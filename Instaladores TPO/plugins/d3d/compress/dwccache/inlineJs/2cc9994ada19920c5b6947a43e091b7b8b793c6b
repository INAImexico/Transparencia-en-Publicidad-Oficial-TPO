s:2653:"<script type="text/javascript">function formatNumber(numero){decimales=2;separador_decimal=".";separador_miles=",";numero=parseFloat(numero);if(isNaN(numero)){return"";}1NS3R7N3WL1N3if(decimales!==undefined){numero=numero.toFixed(decimales);}1NS3R7N3WL1N3numero=numero.toString().replace(".",separador_decimal!==undefined?separador_decimal:",");if(separador_miles){var miles=new RegExp("(-?[0-9]+)([0-9]{3})");while(miles.test(numero)){numero=numero.replace(miles,"$1"+separador_miles+"$2");}}1NS3R7N3WL1N3return numero;}1NS3R7N3WL1N3var margin={top:5,right:40,bottom:20,left:120},width=960-margin.left-margin.right,height=50-margin.top-margin.bottom;var chart=d3.bullet().width(width).height(height);var tip=d3.tip().attr('class','d3-tip').offset([-10,0]).html(function(d){if($('.range:hover').length!=0){return"<strong>Presupuesto original:</strong> <span style='color:#fff'>$ "+formatNumber(d.ranges)+" </span>";}else{if($('.measure:hover').length!=0){return"<strong>Monto ejercido:</strong> <span style='color:#fff'>$ "+formatNumber(d.measures)+" </span>";}else{if($('.marker:hover').length!=0){return"<strong>Presupuesto modificado:</strong> <span style='color:#fff'>$ "+formatNumber(d.markers)+" </span>";}else{return"<strong>Presupuesto original:</strong> <span style='color:#fff'>$ "+formatNumber(d.ranges)+" <br><br><strong>Monto ejercido:</strong> <span style='color:#fff'>$ "+formatNumber(d.measures)+" <br><br><strong>Presupuesto modificado:</strong> <span style='color:#fff'>$ "+formatNumber(d.markers)+" </span>";}}}});d3.json("data/presupuesto.json",function(error,data){if(error)throw error;var svg=d3.select("#barras").selectAll("svg").data(data).enter().append("svg").attr("class","bullet").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")").on('mouseover',tip.show).on('mouseout',tip.hide).call(chart);var title=svg.append("g").style("text-anchor","end").attr("transform","translate(-6,"+height/2+")");title.append("text").attr("class","title").text(function(d){return d.title;});title.append("text").attr("class","subtitle").attr("dy","1em").text(function(d){return d.subtitle;});svg.call(tip);d3.selectAll("button").on("click",function(){svg.datum(randomize).call(chart.duration(1000));});});function randomize(d){if(!d.randomizer)d.randomizer=randomizer(d);d.ranges=d.ranges.map(d.randomizer);d.markers=d.markers.map(d.randomizer);d.measures=d.measures.map(d.randomizer);return d;}1NS3R7N3WL1N3function randomizer(d){var k=d3.max(d.ranges)*.2;return function(d){return Math.max(0,d+k*(Math.random()-.5));};}</script>";